const fs = require('fs');
const Pdf = require('./lib/pdf-parse.js');

module.exports = Pdf;

// for testing purpose
if (!module.parent) {
    const PDF_FILE = './test/data/05-versions-space.pdf';

    try {
        const dataBuffer = fs.readFileSync(PDF_FILE);
        Pdf(dataBuffer).then(function(data) {
            fs.writeFileSync(`${PDF_FILE}.txt`, data.text, {
                encoding: 'utf8',
                flag: 'w'
            });
            debugger;
        }).catch(function(err) {
            console.error('Error parsing PDF:', err);
            debugger;
        });
    } catch (error) {
        console.error('Error reading file:', error);
        debugger;
    }
}
